{"version":3,"file":"pulsion.js","sources":["../lib/index.js"],"sourcesContent":["'use strict'\n\n// Actions.\nconst send = ws => msg => {\n  console.log(`sending: ${ msg }`)\n  ws.send(msg)\n}\n\n// Event listeners.\nconst on = ws => (type, callback) => {\n  switch (type) {\n  case 'open':\n    ws.onopen = callback\n  case 'close':\n    ws.onclose = callback\n  default:\n    // do nothing\n  }\n}\n\n// Create instance.\nconst init = ({ url = '' }) => {\n  // TODO: check for WebSocket feature and fail with message if non-existent\n  const ws = new window.WebSocket(url)\n\n  return {\n    on: on(ws),\n    send: send(ws)\n  }\n}\n\nexport default {\n  init\n}\n"],"names":["send","log","msg","on","type","callback","onopen","onclose","init","url","ws","window","WebSocket"],"mappings":"YAGA,IAAMA,MAAO,kBAAM,qBACTC,gBAAiBC,KACtBF,KAAKE,KAIJC,GAAK,kBAAM,UAACC,EAAMC,UACdD,OACH,SACAE,OAASD,MACT,UACAE,QAAUF,KAOXG,KAAO,oBAAGC,IAAAA,aAAM,KAEdC,EAAK,GAAIC,QAAOC,UAAUH,aAG1BN,GAAGO,QACDV,KAAKU"}